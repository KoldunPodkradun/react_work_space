{"version":3,"sources":["components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Sidebar/Sidebar.jsx","redux/appReducer.js","components/hoc/WitchSuspense.jsx","components/App.jsx","redux/store.js","index.jsx","redux/authReducer.js","components/Header/Header.module.css","components/Common/Preloader.jsx","redux/profileReducer.js","api/api.js","components/Sidebar/Sidebar.module.css","redux/dialogsReducer.js","Utilities/objectHelpers.js","redux/userReducer.js","assets/img/preloader.gif"],"names":["Header","props","react_default","a","createElement","className","styles","header","logo","src","alt","login","isAuth","onClick","logout","react_router_dom","to","HeaderContainer","components_Header_Header","this","React","Component","connect","state","auth","Sidebar","sidebar","item","activeClassName","active","initialState","initialized","appReducer","arguments","length","undefined","type","Object","objectSpread2","withSuspense","Suspense","fallback","Preloader","DialogsContainer","lazy","Promise","all","__webpack_require__","e","then","bind","ProfileContainer","UsersContainer","Login","News","App","initializeApp","Header_HeaderContainer","components_Sidebar_Sidebar","react_router","path","render","compose","withRouter","app","dispatch","promise","getAuthUserData","reducers","combineReducers","profilePage","profileReducer","profileData","dialogsData","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","es","src_components_App","document","getElementById","userId","email","setAuthUserData","payload","response","_response$data$data","id","_login","C_React_Zero_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","async","_context","prev","next","awrap","authAPI","me","sent","data","resultCode","stop","password","rememberMe","message","_context2","messages","stopSubmit","_error","_context3","action","C_React_Zero_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_img_preloader_gif__WEBPACK_IMPORTED_MODULE_1__","_assets_img_preloader_gif__WEBPACK_IMPORTED_MODULE_1___default","preloader","posts","text","likes","profile","status","addPostActionCreator","newPostText","setUserStatus","getUserProfile","usersAPI","getProfile","getUserStatus","profileAPI","getStatus","updateStatus","newPosts","C_React_Zero_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__","concat","C_React_Zero_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","newPostsText","d","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","baseURL","withCredentials","headers","API-KEY","getUsers","currentPage","pageSize","get","follow","post","unFollow","delete","put","dialogs","userName","addMessageActionCreator","newMessageText","body","C_React_Zero_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","regenerator_default","count","totalCount","followUnfollowFlow","apiMetod","actionCreator","_context4","followed","toConsumableArray","filter","p"],"mappings":"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","file":"static/js/main.a5ebb01d.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Header = (props) => {\r\n    return (\r\n        <div className={styles.header}>\r\n            <img className={styles.logo} src=\"https://cs8.pikabu.ru/post_img/big/2016/07/04/10/146764992311896341.jpg\" alt=\"logo\"/>\r\n            <div className={styles.login}>\r\n                {props.isAuth ? <div>{props.login} <div onClick={props.logout} className={styles.logout}>logout</div></div> : <NavLink to={'/login'}>Login</NavLink> }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styles from './Sidebar.module.css';\r\n\r\nlet Sidebar = () => {\r\n    return (\r\n        <nav className={styles.sidebar}>\r\n            <ul>\r\n                <li className={styles.item}><NavLink activeClassName={styles.active} to=\"/profile\">Profile</NavLink>\r\n                </li>\r\n                <li className={styles.item}><NavLink activeClassName={styles.active} to=\"/dialogs\">Message</NavLink>\r\n                </li>\r\n                <li className={styles.item}><NavLink activeClassName={styles.active} to=\"/users\">Users</NavLink>\r\n                </li>\r\n                <li className={styles.item}><NavLink activeClassName={styles.active} to=\"/news\">News</NavLink></li>\r\n                <li className={styles.item}><NavLink activeClassName={styles.active} to=\"#\">Music</NavLink></li>\r\n                <li className={styles.item}><NavLink activeClassName={styles.active} to=\"#\">Settings</NavLink></li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Sidebar;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'SET_INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creator\r\n\r\nexport const initializedSuccess = () => ({type: SET_INITIALIZED_SUCCESS});\r\n\r\n// Thunk\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n};\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport Preloader from \"../Common/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Preloader/>}>\r\n                <Component {...props} />\r\n            </React.Suspense>\r\n        )\r\n    }\r\n};","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport HeaderContainer from \"./Header/HeaderContainer\";\r\nimport Sidebar from './Sidebar/Sidebar';\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"../redux/appReducer\";\r\nimport Preloader from \"./Common/Preloader\";\r\nimport {withSuspense} from \"./hoc/WitchSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./Profile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('./Users/UsersContainer'));\r\nconst Login = React.lazy(() => import('./Login/Login'));\r\nconst News = React.lazy(() => import('./News/News'));\r\n\r\n\r\nclass App extends Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className=\"wrapper\">\r\n                <HeaderContainer/>\r\n                <Sidebar/>\r\n                <div className=\"content\">\r\n                    <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\r\n                    <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\r\n                    <Route path=\"/users\" render={withSuspense(UsersContainer)}/>\r\n                    <Route path=\"/login\" render={withSuspense(Login)}/>\r\n                    <Route path=\"/news\" render={withSuspense(News)}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    profileData: profileReducer,\r\n    dialogsData: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport store from \"./redux/store\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>, document.getElementById('root')\r\n);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USERS_DATA = 'auth/SET_USERS_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creator\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USERS_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\n// Thunk\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__34H3V\",\"logo\":\"Header_logo__2-f0J\",\"login\":\"Header_login__2EjGd\",\"logout\":\"Header_logout__28OfD\"};","import React from 'react';\r\nimport preloader from \"./../../assets/img/preloader.gif\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img className=\"preloader\" src={preloader}/>\r\n    </div>\r\n};\r\n\r\nexport default Preloader;","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 0,\r\n            text: 'Test',\r\n            likes: 1\r\n        }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPosts = {\r\n                id: 1,\r\n                text: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPosts],\r\n                newPostsText: ''\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (id) => ({type: DELETE_POST, id});\r\n\r\n// Thunk\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n};\r\n\r\nexport default profileReducer;","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'f9e22451-965d-409c-8501-af63f6f6b7d2'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {\r\n            status: status\r\n        });\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe\r\n        });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3Gp3N\",\"item\":\"Sidebar_item__3C28L\",\"active\":\"Sidebar_active__1X3kI\"};","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {\r\n            id: 'message_1',\r\n            text: 'test',\r\n            likes: 1\r\n        }\r\n    ],\r\n    dialogs: [\r\n        {\r\n            id: 'user_1',\r\n            userName: 'User 1'\r\n        },\r\n        {\r\n            id: 'user_2',\r\n            userName: 'User 2'\r\n        },\r\n        {\r\n            id: 'user_3',\r\n            userName: 'User 3'\r\n        }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let body = action.newMessageText;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: '1', text: body, likes: 0}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText});\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps};\r\n        }\r\n        return u;\r\n    });\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../Utilities/objectHelpers\";\r\n\r\nconst SET_USERS = 'SET_USERS';\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    // users из API локальные\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n\r\n            };\r\n        case\r\n        SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case\r\n        SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case\r\n        SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case\r\n        TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case\r\n        TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id != action.userId)]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action Creator\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\n// Thunk\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    };\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMetod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMetod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    };\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unFollowSuccess);\r\n    };\r\n};\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.f54c6d72.gif\";"],"sourceRoot":""}