{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","assets/img/logo.jpg","components/Common/Pagination.module.css","components/Users/User.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Common/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","__webpack_require__","d","__webpack_exports__","module","exports","p","pagination__wrapp","pagination","selected","pagination__prev","pagination__next","avatar","name","follow","unfollow","user","item_left","item_right","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","_iterableToArrayLimit","TypeError","_nonIterableRest","Pagination","_ref","totalItemsCount","pageSize","currentPage","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","portionCount","_useState2","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","react_default","a","createElement","className","Style","onClick","filter","map","User","followingInProgress","unFollow","react_router_dom","to","id","src","photos","small","avatarDefault","alt","followed","disabled","some","Users","totalUsersCount","users","objectWithoutProperties","Common_Pagination","u","Users_User","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","_this","props","_this$props","this","Fragment","Preloader","components_Users_Users","React","Component","compose","connect","followSuccess","unFollowSuccess","setCurrentPage","toggleFollowingProgress","requestUsers"],"mappings":"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","file":"static/js/7.5eb2caa7.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5a0cd208.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination__wrapp\":\"Pagination_pagination__wrapp__3PXy9\",\"pagination\":\"Pagination_pagination__1losI\",\"selected\":\"Pagination_selected__2YFZT\",\"pagination__prev\":\"Pagination_pagination__prev__1VuQH\",\"pagination__next\":\"Pagination_pagination__next__ibIfb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"User_avatar__1DfwK\",\"name\":\"User_name__3ofE7\",\"follow\":\"User_follow__3fPx5\",\"unfollow\":\"User_unfollow__1YZfm\",\"user\":\"User_user__1dIWN\",\"item_left\":\"User_item_left__2yHjQ\",\"item_right\":\"User_item_right__KoudQ\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, {useState} from 'react';\r\nimport Style from \"../Common/Pagination.module.css\";\r\n\r\nlet Pagination = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={Style.pagination__wrapp}>\r\n        {portionNumber > 1 && <div className={Style.pagination__prev} onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</div>}\r\n        <ul className={Style.pagination}>\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <li className={currentPage === p && Style.selected}\r\n                               onClick={() => {\r\n                                   onPageChanged(p);\r\n                               }}>{p}</li>\r\n                })}\r\n        </ul>\r\n        {portionCount > portionNumber && <div className={Style.pagination__next} onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</div>}\r\n    </div>\r\n};\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport Style from \"./User.module.css\";\r\nimport avatarDefault from \"../../assets/img/logo.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unFollow}) => {\r\n    return (\r\n        <div className={Style.user}>\r\n            <div className={Style.item_left}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img className={Style.avatar}\r\n                         src={user.photos.small !== null ? user.photos.small : avatarDefault}\r\n                         alt=\"avatar\"/>\r\n                </NavLink>\r\n                {user.followed\r\n                    ? <button className={Style.unfollow}\r\n                              disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  unFollow(user.id)\r\n                              }}>UnFollow</button>\r\n                    : <button className={Style.follow}\r\n                              disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  follow(user.id)\r\n                              }}>Follow</button>\r\n                }\r\n            </div>\r\n            <div className={Style.item_right}>\r\n                <div className={Style.name}>{user.name}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Pagination from \"../Common/Pagination\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, followingInProgress, follow, unFollow, users, ...props}) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n        <Pagination currentPage={currentPage}\r\n                    onPageChanged={onPageChanged}\r\n                    totalItemsCount={totalUsersCount}\r\n                    pageSize={pageSize}/>\r\n        {\r\n            users.map(u =>\r\n                <User user={u}\r\n                      followingInProgress={followingInProgress}\r\n                      follow={follow}\r\n                      unFollow={unFollow}\r\n                      key={u.id}\r\n                />\r\n            )\r\n        }\r\n    </div>\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followSuccess,\r\n    unFollowSuccess,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers,\r\n    follow,\r\n    unFollow\r\n} from \"../../redux/userReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/usersSelectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {pageSize, currentPage} = this.props;\r\n        this.props.getUsers(pageSize, currentPage);\r\n    };\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   name={this.props.name}\r\n                   follow={this.props.follow}\r\n                   unFollow={this.props.unFollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n        </>\r\n    };\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        followSuccess,\r\n        unFollowSuccess,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers: requestUsers,\r\n        follow,\r\n        unFollow\r\n    })\r\n)(UsersContainer);"],"sourceRoot":""}